# 平台容灾（多供应商）

目标：为 Gemini 格式服务配置多个供应商（不同 Base URL / API Key / Model），当某个平台失败则立即切换到下一个平台，提升稳定性。

## 约定与策略

- UI 不提供平台选择，只使用配置的供应商列表按优先级自动切换。
- 单次请求失败（任何原因）立即切换到下一个供应商，不做同平台重试。
- 文生图支持并发次数：例如 4 张会并发发起 4 个请求；每个请求都按供应商列表独立 failover，直到凑满目标张数或达到上限。

## 环境变量

所有列表均支持 `,` 或换行分隔；顺序即优先级；按索引配对，不足的一侧使用第一个值补齐。

- `VITE_GEMINI_BASE_URLS`
- `VITE_GEMINI_API_KEYS`
- `VITE_GEMINI_MODELS`

可选：填充失败时的最大总尝试次数（默认 40）：

- `VITE_GEMINI_FILL_MAX_TOTAL_ATTEMPTS`

